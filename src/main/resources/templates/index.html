<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <script
            src="https://code.jquery.com/jquery-3.3.1.js"
            integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
            crossorigin="anonymous"></script>
</head>
<body>
<p th:text="${username}"></p>
<label for="txtMessage">
    Message: <input type="text" id="txtMessage"></input>
</label>
<button id="btnSend">Send message</button>

<script>
    $('#btnSend').click(function () {
        let message = $('#txtMessage').val();
        $.ajax({
            type: "POST",
            url: '/api/message',
            data: message,
            success: function (response) {
                console.log(response);
            },
            xhrFields: {
                withCredentials: true
            }
        });
    })
</script>
</body>
</html>